$(document).ready(function(){$("[data-bs-hover-animate]").mouseenter(function(){var e=$(this);e.addClass("animated "+e.attr("data-bs-hover-animate"))}).mouseleave(function(){var e=$(this);e.removeClass("animated "+e.attr("data-bs-hover-animate"))})}),function(e){"use strict";e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=e(this.hash);if((a=a.length?a:e("[name="+this.hash.slice(1)+"]")).length)return e("html, body").animate({scrollTop:a.offset().top-57},1e3,"easeInOutExpo"),!1}}),e(".js-scroll-trigger").click(function(){e(".navbar-collapse").collapse("hide")}),e("body").scrollspy({target:"#mainNav",offset:57});var a=function(){e("#mainNav").offset().top>100?e("#mainNav").addClass("navbar-shrink"):e("#mainNav").removeClass("navbar-shrink")};a(),e(window).scroll(a),e(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}})}(jQuery);let usuario=3,api="https://educ-fisica-f010.000webhostapp.com/";function cargarModalTrabajo(e,a){$("#modal-trabajo .modal-title").text(e),$("#modal-trabajo .modal-body").html(a),$("#modal-trabajo").modal({backdrop:"static",keyboard:!1,show:!0})}function indexAjaxFolder(){$.ajax({type:"get",url:api+"api/folder",data:{folio:usuario},dataType:"json",success:function(e){cargarModalTrabajo("Ver Carpetas",e.html),detalleCarpeta(),createFolder()}})}function createFolder(){$(".btn-create-folder").on("click",function(e){e.preventDefault(),$.ajax({type:"GET",url:api+"api/folder/create",data:{},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),storeFolder()}})})}function storeFolder(){$("#formStoreFolder").submit(function(e){e.preventDefault(),$(".idFolderStore").val(usuario),confirm("¿Realmente quieres crear esta carpeta?")&&$.ajax({headers:{},type:"POST",url:api+"api/folder",data:$(this).serialize(),dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),$(".btn-categorias-show").click()}})})}function detalleCarpeta(){let e=0,a=0;$(".folderContainer").click(function(t){t.preventDefault(),2===e?(enviaPeticionShow(a=parseInt($(this).find(".folio").text())),e=0):e++})}function enviaPeticionShow(e){$.ajax({type:"GET",url:api+"api/folder/"+e,data:{_method:"HEAD"},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),createFolder(),accionesFolder(),createFolder()}})}function accionesFolder(){destroyFolder(),editFolder()}function destroyFolder(){$(".show-Folder .destroy").click(function(e){e.preventDefault(),confirm("¿Deseas eliminar la carpeta\nya no podrá recuperarse?")&&$.ajax({headers:{},type:"POST",url:api+"api/folder/"+$(".f-Id").text(),data:{_method:"DELETE",token:$(".token").find("input").text()},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),$(".btn-categorias-show").click()}})})}function editFolder(){$(".show-Folder .update").on("click",function(e){e.preventDefault(),$.ajax({type:"GET",url:api+"api/folder/"+$(".f-Id").text()+"/edit",data:{_method:"HEAD"},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),updateFolder()}})})}function updateFolder(){$("#formUpdateFolder").submit(function(e){e.preventDefault(),confirm("¿Realmente quieres actualizar los datos?")&&$.ajax({headers:{},type:"POST",url:api+"api/folder/"+$(".f-Id").text(),data:$(this).serialize(),dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),precionaEntendido()}})})}function precionaEntendido(){$(".btn-entendido").click(function(e){e.preventDefault(),$(".btn-categorias-show").click()})}function configureLoadingScreen(e){$(document).ajaxStart(function(){e.fadeIn()}).ajaxStop(function(){e.fadeOut()})}configureLoadingScreen($("#loading-screen")),$(".btn-categorias-show").click(function(e){e.preventDefault(),indexAjaxFolder()});let tarjetaurl=api;function indexAjaxCard(){$.ajax({type:"GET",url:tarjetaurl+"api/card",data:{folio:usuario},dataType:"json",success:function(e){cargarModalTrabajo("Contenido",e.html),destroyCard(),createCard(),editCard()}})}function indexCard(){$(".btn-tarjeta-index").click(function(e){e.preventDefault(),indexAjaxCard()})}function createCard(){$(".card-index .create").click(function(e){e.preventDefault(),$.ajax({type:"GET",url:tarjetaurl+"api/card/create",data:{_method:"HEAD",user:usuario},dataType:"json",success:function(e){cargarModalTrabajo("Contenido",e.html),sotreCard()}})})}function sotreCard(){$(".store-card form").submit(function(e){e.preventDefault(),confirm("¿Realmente deseas almacenar este contenido?")&&$.ajax({type:"POST",url:tarjetaurl+"api/card",data:$(this).serialize(),dataType:"json",success:function(e){alert(e.alert),cargarModalTrabajo("Contenido",e.html),indexAjaxCard()},error:function(e){ajaxError(e)}})})}function editCard(){$(".card-index .update").click(function(e){e.preventDefault();let a=parseInt($(this).parent().parent().find(".folio").text());$(this).parent().parent();$.ajax({type:"GET",url:tarjetaurl+`api/card/${a}/edit`,data:{_method:"HEAD"},dataType:"json",success:function(e){cargarModalTrabajo("Contenido",e.html),updateCard()}})})}function updateCard(){$(".update-card form").submit(function(e){e.preventDefault(),confirm("¿Realmente deseas realizar los cambios en el contenido?")&&$.ajax({headers:{},type:"POST",url:tarjetaurl+"api/card/"+$(this).find("input[name=card_id]").val(),data:$(this).serialize(),dataType:"json",success:function(e){alert(e.alert),indexCard(),$(".btn-tarjeta-index").click()},error:function(e){ajaxError(e)}})})}function destroyCard(){$(".card-index .delete").click(function(e){if(e.preventDefault(),confirm("¿Realmente quieres eliminar este elemento?")){let e=parseInt($(this).parent().parent().find(".folio").text()),a=$(this).parent().parent();$.ajax({type:"POST",url:tarjetaurl+"api/card/"+e,data:{_method:"DELETE"},dataType:"json",success:function(e){alert(e.alert),a.remove()},error:function(e){ajaxError(e)}})}})}$(function(){indexCard()});let url=api;function indexVideo(){$.ajax({type:"GET",url:url+"api/videoc",data:{folio:usuario},dataType:"json",success:function(e){cargarModalTrabajo("Videos",e.html),showVideo(),createVideo(),addRecent()},beforeSend:function(){},complete:function(e){},error:function(e){}})}function showVideo(){let e=0;$(".option-video").click(function(a){if(a.preventDefault(),2===e){let a=$(this).find(".folio-video").text();$.ajax({type:"GET",url:url+"api/videoc/"+a,data:{_method:"HEAD"},dataType:"json",success:function(e){$(".index-video-container").toggle(),$("#modal-trabajo .modal-body").append(e.html),videoDestroy(),videoAtras()},beforeSend:function(){},complete:function(e){},error:function(e){}}),e=0}else e++})}function videoAtras(){$(".btn-video-atras").click(function(e){e.preventDefault(),indexVideo()})}function videoDestroy(){$(".video-show .destroy").click(function(e){e.preventDefault(),confirm("¿Realmente quieres eliminar el video?")&&$.ajax({type:"POST",url:url+"api/videoc/"+$(".video-show .folio").text(),data:{_method:"DELETE",token:$(".video-show .token").text()},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),entendidoAction()},beforeSend:function(){},complete:function(e){},error:function(e){}})})}function entendidoAction(){$(".btn-entendido").click(function(e){e.preventDefault(),indexVideo()})}function createVideo(){$(".btn-video-create").click(function(e){e.preventDefault(),$.ajax({type:"GET",url:url+"api/videoc/create",data:{_method:"HEAD",folio:usuario},dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),storeVideo()},beforeSend:function(){},complete:function(e){},error:function(e){}})})}function storeVideo(){procesaLink(),$("#form-create-video").submit(function(e){e.preventDefault(),confirm("¿Deseas realizar el registro del video?")&&$.ajax({type:"POST",url:url+"api/videoc",data:$(this).find("form").eq(0).serialize(),dataType:"json",success:function(e){$("#modal-trabajo .modal-body").html(e.html),entendidoAction()},beforeSend:function(){},complete:function(e){},error:function(e){}})})}function procesaLink(){$("#form-create-video input[name=link]").change(function(e){e.preventDefault();let a=`https://img.youtube.com/vi/${youtube_parser($(this).val())}/maxresdefault.jpg`;$("#form-create-video .image-YouTube").attr("src",a),$("#form-create-video input[name=caratula_link]").val(a)})}function youtube_parser(e){var a=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!a||11!=a[7].length)&&a[7]}function addRecent(){$(".btn-anexar").click(function(e){e.preventDefault(),confirm("¿Deseas agregar a videos actuales?")&&$.ajax({type:"GET",url:url+`api/recent/${usuario}/${$(this).attr("href")}`,data:{},dataType:"json",success:function(e){alert(e.alert)},beforeSend:function(){},complete:function(e){},error:function(e){}})})}$(function(){$(".btn-videos-index").on("click",function(e){e.preventDefault(),indexVideo()})});let urlVideo=api;function showVideoActual(){$(".btn-video-actual-index").click(function(e){e.preventDefault(),showVideoAjax()})}function showVideoAjax(){$.ajax({type:"GET",url:urlVideo+"api/actualv",data:{folio:usuario},dataType:"json",success:function(e){cargarModalTrabajo("Videos",e.html),destroyAcual()},beforeSend:function(){},complete:function(e){},error:function(e){}})}function destroyAcual(){$(".option-video .btn-remove").click(function(e){if(e.preventDefault(),confirm("¿Realmente deseas eliminar el video de actuales?")){let e=$(this).attr("href"),a=$(this).parent().find(".tok").text();$.ajax({type:"POST",url:urlVideo+"api/actualv/"+e,data:{_method:"DELETE",_token:a},dataType:"json",success:function(e){alert(e.alert),showVideoAjax()},beforeSend:function(){},complete:function(e){},error:function(e){}})}})}$(function(){showVideoActual()}),window.onload=function(){try{let e=document.getElementById("contenedor_carga");e.style.visibility="hidden",e.style.opacity="0"}catch(e){}};let route=api+"api/categoria";function eventoIndexCategoria(){$(".btn-show-categoria").click(function(e){e.preventDefault(),categoriaIndexAjax()})}function eventoCreateCategoria(){$(".btn-create-category").click(function(e){e.preventDefault(),categoriaCreateAjax($(this).find(".folio-folder").text())})}function eventoStorageCategoria(){$(".create-categoria-component form").submit(function(e){e.preventDefault(),categoriaStorage($(this))})}function eventoShowCategoria(){$(".btn-show-caracte").click(function(e){e.preventDefault(),showCategoriaAjax($(this).find(".categoria-folio").text())})}function eventoDestroyCategoria(){$(".show-categoria-detail .btn-eliminar").click(function(e){e.preventDefault(),categoriaDestroyAjax($(this).find(".detalle").text())})}function eventoEditCategoria(){$(".show-categoria-detail .btn-actualizar").click(function(e){e.preventDefault(),categoriaEditAjax($(this).find(".detalle").text())})}function eventoUpdateCategoria(){$(".update-categoria form").submit(function(e){e.preventDefault(),categoriaUpdateAjax($(this))})}function categoriaUpdateAjax(e){confirm("¿Realmente deseas actualizar la categoría?")&&$.ajax({type:"POST",url:route+"/"+e.find("input[name=id]").val(),data:e.serialize(),dataType:"json",success:function(e){alert(e.alert),categoriaIndexAjax()},error:function(e){ajaxError(e)}})}function categoriaEditAjax(e){$.ajax({type:"GET",url:route+"/"+e+"/edit",data:{_method:"HEAD"},dataType:"json",success:function(e){cargarModalTrabajo("DETALLE CATEGORÍA EDITA",e.html),eventoUpdateCategoria()},beforeSend:function(){},complete:function(e){},error:function(e){ajaxError(e)}})}function categoriaDestroyAjax(e){confirm("¿Quieres eliminar la categoría?")&&$.ajax({type:"POST",url:route+"/"+e,data:{_method:"DELETE"},dataType:"json",success:function(e){alert(e.alert),categoriaIndexAjax()},error:function(e){ajaxError(e)}})}function showCategoriaAjax(e){$.ajax({type:"GET",url:route+"/"+e,data:{_method:"HEAD"},dataType:"json",success:function(e){cargarModalTrabajo("DETALLE CATEGORÍA",e.html),eventoDestroyCategoria(),eventoEditCategoria()},beforeSend:function(){},complete:function(e){},error:function(e){ajaxError(e)}})}function categoriaStorage(e){confirm("¿Deseas agregar esta nueva característica?")&&$.ajax({type:"POST",url:route,data:e.serialize(),dataType:"json",success:function(e){alert(e.alert),categoriaIndexAjax()},error:function(e){ajaxError(e)}})}function categoriaCreateAjax(e){$.ajax({type:"GET",url:route+"/create",data:{folio:e},dataType:"json",success:function(e){cargarModalTrabajo("CATEGORÍAS",e.html),eventoStorageCategoria()},beforeSend:function(){},complete:function(e){},error:function(e){ajaxError(e)}})}function categoriaIndexAjax(){$.ajax({type:"GET",url:route,data:{folio:usuario},dataType:"json",success:function(e){cargarModalTrabajo("CATEGORÍAS",e.html),eventoCreateCategoria(),eventoShowCategoria()},beforeSend:function(){},complete:function(e){},error:function(e){ajaxError(e)}})}$(function(){eventoIndexCategoria()}),$(".previewButton").click(function(e){e.preventDefault(),$("#previewIframe").attr("src",function(e,a){return a})});let routeHome=api;function indexPageHome(){$.ajax({type:"GET",url:routeHome+"api/info/"+usuario,data:{user:usuario},dataType:"json",success:function(e){$(".form-home").html(e.html),enviarFrm()}})}function enviarFrm(){$(".frm-act-portada").submit(function(e){e.preventDefault(),confirm("Deseas actualizar registro")&&$.ajax({type:"get",url:routeHome+`api/updateP/${usuario}`,data:$(this).serialize(),dataType:"json",success:function(e){indexPageHome()}})})}$(function(){indexPageHome()});let routeSaludable=api+"api/saludable";function eventBtnIndexVideoSaludable(){$(".btn-videos-saludable-index").click(function(e){e.preventDefault(),saludableIndexVideoAjax()})}function eventBtnIndexArvhivoSaludable(){$(".btn-archivos-saludable-index").click(function(e){e.preventDefault(),saludableIndexArchivoAjax()})}function eventBtnDestroySaludable(){$(".btn-destroy").click(function(e){e.preventDefault();let a=$(this).find(".id_saludable").text();cargarModalTrabajo("ELIMINA",'<h2>¿RealMente Quieres Eliminar?</h2><button class="si-destroy btn btn-danger">SI</button>'),eventSiDestroy(a,$(this).find("input[name=_token]").val())})}function eventSiDestroy(e,a){$(".si-destroy").click(function(t){t.preventDefault(),saludableDestroySaludable(e,a)})}function eventCreateSaludable(){$(".btn-videos-saludable-create").click(function(e){e.preventDefault(),createDaludableAjax()})}function eventStoreSaludable(){$(".createSaludable form").submit(function(e){e.preventDefault(),storeSaludableAjax($(this))})}function storeSaludableAjax(e){confirm("¿Deseas realizar el registro?")&&$.ajax({type:"POST",url:routeSaludable,data:e.serialize(),dataType:"json",success:function(e){cargarModalTrabajo("SALUDABLE CREAR NUEVO",e.alert)}})}function createDaludableAjax(){$.ajax({type:"GET",url:routeSaludable+"/create",data:{usuario:usuario},dataType:"json",success:function(e){cargarModalTrabajo("SALUDABLE CREAR NUEVO",e.html),eventStoreSaludable()},beforeSend:function(){},complete:function(e){},error:function(e){}})}function saludableDestroySaludable(e,a){$.ajax({type:"POST",url:routeSaludable+"/"+e,data:{_method:"DELETE",_token:a},dataType:"json",success:function(e){cargarModalTrabajo("Estado",'<h3 class="text-danger">'+e.alert+"</h3>")},beforeSend:function(){},complete:function(e){},error:function(e){}})}function saludableIndexVideoAjax(){$.ajax({type:"GET",url:routeSaludable,data:{user:usuario,complemento:"video"},dataType:"json",beforeSend:function(){},complete:function(e){},error:function(e){},success:function(e){cargarModalTrabajo("SALUDABLE VIDEOS",e.html),eventBtnDestroySaludable()}})}function saludableIndexArchivoAjax(){$.ajax({type:"GET",url:routeSaludable,data:{user:usuario,complemento:"archivo"},dataType:"json",beforeSend:function(){},complete:function(e){},error:function(e){},success:function(e){cargarModalTrabajo("SALUDABLE ARCHIVOS",e.html),eventBtnDestroySaludable()}})}$(function(){eventBtnIndexVideoSaludable(),eventBtnIndexArvhivoSaludable(),eventCreateSaludable()});